# 《数据迷宫》

一款锈湖风格的科技悬疑解谜网页游戏，讲述发生在"量子矩阵"科技公司的奇异故事。玩家扮演新入职程序员，揭露公司隐藏的"现实重构"计划背后的真相。

## 游戏简介

《数据迷宫》是一款集点击探索、解谜、叙事为一体的网页游戏。游戏时长约30分钟，玩家将在充满科技感与诡异氛围的公司大楼中探索，解开各种基于编程和逻辑的谜题，逐步揭开隐藏的真相。

### 游戏特色

- **沉浸式叙事**：精心设计的故事线，带来引人入胜的科幻悬疑体验
- **独特的谜题设计**：融合编程概念和逻辑推理的多样化谜题
- **多结局系统**：玩家的选择将影响游戏结局，提供重玩价值
- **锈湖风格的视觉体验**：现代科技与诡异氛围的完美结合
- **适合程序员的彩蛋**：充满编程概念和行业梗的细节设计

## 项目目录

本项目使用以下文件结构：

```
public/
  ├── css/          - 样式文件
  ├── js/           - JavaScript脚本
  ├── images/       - 图片资源
  ├── audio/        - 音频资源
  ├── data/         - JSON数据文件
  └── index.html    - 主HTML文件
```

## 技术栈

本游戏使用以下技术开发：

- **前端技术**：原生JavaScript + HTML5 + CSS3
- **数据存储**：JSON + localStorage
- **响应式设计**：适配不同屏幕大小的游戏体验

## 如何运行

1. 将项目克隆到本地
2. 使用任意HTTP服务器启动项目（例如：VS Code的Live Server插件）
3. 在浏览器中访问项目

```bash
# 使用Python简易HTTP服务器
python -m http.server

# 或使用Node.js的http-server
npx http-server
```

## 开发计划

- [x] 基础游戏框架
- [x] 场景交互系统
- [x] 物品收集系统
- [x] 谜题解密系统
- [ ] 多结局系统
- [ ] 完善游戏内容和谜题
- [ ] 添加音效和背景音乐
- [ ] 优化移动端体验

## 如何贡献

作为独立开发项目，目前主要由作者一人开发。如有兴趣参与或提供建议，请通过以下方式联系：

- 电子邮件：your.email@example.com
- GitHub Issues：提交问题或建议

## 灵感来源

本游戏灵感来源于：
- 锈湖（Rusty Lake）系列游戏
- 科幻小说《编码宝典》
- 电影《黑客帝国》和《盗梦空间》

## 项目状态

🚧 **开发中** 🚧

当前开发阶段：基础功能实现

## 许可

本项目采用 [MIT 许可证](LICENSE)。

---

© 2023 独立开发者。保留所有权利。

## 功能介绍

这是一个科技感的解谜游戏，玩家需要通过探索不同场景、解决谜题来推进剧情。

### 游戏特性

- 三个主要场景：办公室、茶水间、游戏室
- 丰富的交互元素和谜题
- 科技感的电脑界面和登录系统
- 响应式设计，适配不同屏幕尺寸
- 完整的debug模式支持

## 调试模式使用说明

### 启用调试模式
- 按 **D** 键开启/关闭调试模式
- 调试模式下会显示红色边框的交互区域信息

### 场景交互区域调试
- **点击**：选择交互区域（红色边框变绿色）
- **方向键**：移动选中的区域
- **Shift + 方向键**：调整区域大小
- **Tab**：切换到下一个区域
- **C**：复制当前区域坐标到控制台
- **S**：保存当前场景的所有坐标
- **R**：重置为原始坐标
- **E**：导出所有场景数据
- **Esc**：取消选择

### 桌面图标调试
当登录电脑进入桌面界面时，调试模式同样支持桌面图标的调试：

- **图标显示**：桌面图标会显示绿色边框
- **选择图标**：点击图标进行选择（黄色边框表示选中）
- **移动图标**：使用方向键移动选中的图标
- **调整大小**：Shift + 方向键调整图标大小
- **Tab切换**：在桌面上按Tab键可以循环选择图标
- **保存坐标**：按S键保存所有桌面图标的坐标
- **重置位置**：按R键重置所有图标到默认位置
- **复制坐标**：按C键复制选中图标的HTML代码

### 调试信息面板
- 右上角显示当前选中区域/图标的详细信息
- 包含坐标、尺寸等数据
- 显示完整的操作说明

### 数据保存
- 所有调试数据保存在浏览器的localStorage中
- 场景坐标和桌面图标位置分别保存
- 重新加载页面时会自动恢复保存的坐标

## 开发说明

### 添加新的交互区域
1. 在对应场景的`createXXXInteractives`方法中添加区域定义
2. 定义区域的name、x、y、width、height和action
3. 使用调试模式调整坐标到合适位置

### 桌面图标配置
- 桌面图标在`showDesktop()`方法中定义
- 使用`data-app`属性指定应用类型
- 支持动态调整位置和尺寸
- 调试模式下可以实时预览效果

## 技术特性

- 完全响应式设计
- 科技感UI/UX
- 模块化的游戏逻辑
- 完善的调试工具
- 本地存储支持

# 量子矩阵 - 桌面端热区修复版

这是一个科幻主题的点击冒险游戏，专门优化了桌面端不同屏幕尺寸的热区显示问题。

## 🎮 游戏特色

- **精确的桌面端热区**: 以3024×1964作为基准分辨率，自动适应其他桌面屏幕尺寸
- **统一缩放系统**: 保持纵横比的等比例缩放，确保在任何桌面分辨率下都能准确点击
- **优化的用户体验**: 移除了移动端相关的复杂逻辑，专注于桌面端的精确交互

## 🔧 技术修复说明

### 热区缩放修复
1. **基准分辨率**: 设置为3024×1964（用户反馈的正确显示尺寸）
2. **缩放算法**: 使用`Math.min(scaleX, scaleY)`确保统一缩放比例
3. **居中对齐**: 自动计算并应用居中偏移，确保热区精确对应背景图像

### 代码优化
```javascript
// 简化的缩放计算 - 仅适用于桌面端
calculateScale() {
    const container = document.querySelector('.scene-container');
    const containerRect = container.getBoundingClientRect();
    
    // 计算缩放比例，保持宽高比
    this.scaleX = containerRect.width / this.baseWidth;
    this.scaleY = containerRect.height / this.baseHeight;
    
    // 使用统一缩放比例，保持纵横比
    const scale = Math.min(this.scaleX, this.scaleY);
    this.scaleX = scale;
    this.scaleY = scale;
    
    // 计算居中偏移
    const scaledWidth = this.baseWidth * scale;
    const scaledHeight = this.baseHeight * scale;
    this.centerOffsetX = (containerRect.width - scaledWidth) / 2;
    this.centerOffsetY = (containerRect.height - scaledHeight) / 2;
}
```

### 支持的桌面分辨率
- **超高分辨率** (1920px+): 自动缩放适配
- **标准桌面** (1366px-1919px): 基准比例缩放
- **小桌面** (1024px-1365px): 等比例缩放保持精度
- **最小支持**: 1024×768

## 🎯 修复效果

- ✅ 热区位置在所有桌面分辨率下都精确对应
- ✅ 保持游戏画面的正确纵横比
- ✅ 移除了移动端相关的复杂响应式逻辑
- ✅ 提升了代码的可维护性和性能

## 🛠️ 调试功能

游戏仍然保留了调试模式（按D键），可以：
- 查看实时的热区坐标
- 调整热区位置和大小
- 保存和导出坐标数据

## 📱 设备支持

本版本专注于桌面端体验，不再支持移动设备和平板。如需移动端支持，请使用其他版本。

## 🚀 如何运行

1. 直接打开 `index.html` 文件
2. 或使用本地服务器运行
3. 推荐使用现代桌面浏览器（Chrome、Firefox、Safari、Edge）

现在游戏在任何桌面屏幕尺寸下都能提供精确的热区交互体验！ 